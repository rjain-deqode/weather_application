{"ast":null,"code":"import _regeneratorRuntime from\"/home/deq/Desktop/my_work/React-training-raksha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/deq/Desktop/my_work/React-training-raksha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/deq/Desktop/my_work/React-training-raksha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/deq/Desktop/my_work/React-training-raksha/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import\"./WeatherApp.css\";import{Input}from\"./Input\";import{Button}from\"./Button\";import axios from\"axios\";import WeeklyData from\"./shared/WeeklyData\";import CurrentData from\"./shared/CurrentData\";import Chart from\"./shared/Chart\";import moment from\"moment\";import GoogleMap from\"./shared/GoogleMap\";import EmptyData from\"./shared/EmptyData\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CurrentWeather(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),weeklyWeather=_useState4[0],setWeeklyWeather=_useState4[1];var ref=useRef();var _useState5=useState({xAxis:[],yAxis:[]}),_useState6=_slicedToArray(_useState5,2),chartAxis=_useState6[0],setChartAxis=_useState6[1];var _useState7=useState({aLet:0,aLon:0}),_useState8=_slicedToArray(_useState7,2),cordinate=_useState8[0],setCordinate=_useState8[1];var _useState9=useState({temp:0,minTemperature:[],maxTemperature:[],humidity:\"\",description:\"\",icon:\"\",display:false,pressure:\"\",feelsLike:0,visibility:\"\",wind:0,name:\"\",view:false}),_useState10=_slicedToArray(_useState9,2),data=_useState10[0],setData=_useState10[1];var _useState11=useState({lat:\"\",log:\"\"}),_useState12=_slicedToArray(_useState11,2),geolocation=_useState12[0],setGeolocation=_useState12[1];useEffect(function(){if(search===\"\"){navigator.geolocation.getCurrentPosition(function(position){setGeolocation(_objectSpread(_objectSpread({},geolocation),{},{lat:position.coords.latitude,log:position.coords.longitude}));});}if(navigator.geolocation){navigator.geolocation.watchPosition(function(position){setGeolocation(_objectSpread(_objectSpread({},geolocation),{},{lat:position.coords.latitude,log:position.coords.longitude}));});}},[geolocation.lat,geolocation.log]);useEffect(function(){if(geolocation.lat&&geolocation.log){fetchData();}},[geolocation.lat,geolocation.log]);var fetchWeatherData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(search){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios({method:\"GET\",url:\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(search,\"&appid=35bd10c223b33cc321caa26ce46f7f0b\")});case 3:response=_context.sent;console.log(\"response\",response.data);setData({temp:response.data.main.temp-273.15,humidity:response.data.main.humidity,description:response.data.weather[0].description,icon:response.data.weather[0].icon,display:true,pressure:response.data.main.pressure,feelsLike:response.data.main.feels_like-273.15,visibility:response.data.visibility,wind:response.data.wind.speed,name:response.data.name,view:true});setCordinate(_objectSpread(_objectSpread({},cordinate),{},{aLet:response.data.coord.lat,aLon:response.data.coord.lon}));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchWeatherData(_x){return _ref.apply(this,arguments);};}();var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(search){var apikey,response,dailyForcast,data,dailyData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:apikey=\"https://api.openweathermap.org/data/2.5/onecall?lat=\".concat(geolocation.lat,\"&lon=\").concat(geolocation.log,\"&units=metric&exclude\");_context2.next=3;return fetch(\"\".concat(apikey,\"=current&appid=3c072250b7b95a5b2c1f101aabc82b3a\"));case 3:response=_context2.sent;_context2.next=6;return fetch(\"\".concat(apikey,\"=hourly,daily&appid=3c072250b7b95a5b2c1f101aabc82b3a\"));case 6:dailyForcast=_context2.sent;_context2.next=9;return response.json();case 9:data=_context2.sent;_context2.next=12;return dailyForcast.json();case 12:dailyData=_context2.sent;setWeeklyWeather(data.daily);setChartAxis(_objectSpread(_objectSpread({},chartAxis),{},{xAxis:data.hourly,yAxis:data.hourly}));case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchData(_x2){return _ref2.apply(this,arguments);};}();var handleSubmit=function handleSubmit(e){e.preventDefault();fetchWeatherData(search);fetchData();};useEffect(function(){ref.current=setSearch;},[]);var newXAxisData=chartAxis.xAxis&&chartAxis.xAxis.map(function(res){var day=moment.unix(res.dt).utc();return moment(day).format(\"h:mm a\");});var newYAxisData=chartAxis.yAxis&&chartAxis.yAxis.map(function(res){return res.temp;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"app__header\",children:/*#__PURE__*/_jsx(\"form\",{className:\"search__filter\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input__group\",children:[/*#__PURE__*/_jsx(Input,{className:\"search__filed\",type:\"search\",value:search,onChange:function onChange(e){return setSearch(e.target.value);},placeholder:\"Search City\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"search__btn\",label:\"Search\"})]})})}),data.view?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"main__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid__container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"current__container\",children:/*#__PURE__*/_jsx(CurrentData,{display:data.display,data:data,aLet:cordinate.aLet,aLon:cordinate.aLon})}),/*#__PURE__*/_jsx(\"div\",{className:\"map__section\",children:/*#__PURE__*/_jsx(GoogleMap,{isMarkerShown:true,geolocation:geolocation,data:data,aLet:cordinate.aLet,aLon:cordinate.aLon})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner__container\",children:[/*#__PURE__*/_jsx(Chart,{newXAxisData:newXAxisData,newYAxisData:newYAxisData}),/*#__PURE__*/_jsx(WeeklyData,{weeklyWeather:weeklyWeather,data:data})]})]}):/*#__PURE__*/_jsx(EmptyData,{title:\"No result found\",content:\"Try adjusting your search to find what your looking for.\"})]});}export default CurrentWeather;","map":{"version":3,"sources":["/home/deq/Desktop/my_work/React-training-raksha/src/component/CurrentWeather.js"],"names":["React","useState","useEffect","useRef","Input","Button","axios","WeeklyData","CurrentData","Chart","moment","GoogleMap","EmptyData","CurrentWeather","props","search","setSearch","weeklyWeather","setWeeklyWeather","ref","xAxis","yAxis","chartAxis","setChartAxis","aLet","aLon","cordinate","setCordinate","temp","minTemperature","maxTemperature","humidity","description","icon","display","pressure","feelsLike","visibility","wind","name","view","data","setData","lat","log","geolocation","setGeolocation","navigator","getCurrentPosition","position","coords","latitude","longitude","watchPosition","fetchData","fetchWeatherData","method","url","response","console","main","weather","feels_like","speed","coord","lon","error","message","apikey","fetch","dailyForcast","json","dailyData","daily","hourly","handleSubmit","e","preventDefault","current","newXAxisData","map","res","day","unix","dt","utc","format","newYAxisData","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./WeatherApp.css\";\nimport { Input } from \"./Input\";\nimport { Button } from \"./Button\";\nimport axios from \"axios\";\nimport WeeklyData from \"./shared/WeeklyData\";\nimport CurrentData from \"./shared/CurrentData\";\nimport Chart from \"./shared/Chart\";\nimport moment from \"moment\";\nimport GoogleMap from \"./shared/GoogleMap\";\nimport EmptyData from \"./shared/EmptyData\";\n\nfunction CurrentWeather(props) {\n  const [search, setSearch] = useState(\"\");\n  const [weeklyWeather, setWeeklyWeather] = useState([]);\n  const ref = useRef();\n\n  const [chartAxis, setChartAxis] = useState({\n    xAxis: [],\n    yAxis: [],\n  });\n\n  const [cordinate, setCordinate] = useState({\n    aLet: 0,\n    aLon: 0,\n  });\n\n  const [data, setData] = useState({\n    temp: 0,\n    minTemperature: [],\n    maxTemperature: [],\n    humidity: \"\",\n    description: \"\",\n    icon: \"\",\n    display: false,\n    pressure: \"\",\n    feelsLike: 0,\n    visibility: \"\",\n    wind: 0,\n    name: \"\",\n    view: false,\n  });\n\n  const [geolocation, setGeolocation] = useState({\n    lat: \"\",\n    log: \"\",\n  });\n\n  useEffect(() => {\n    if (search === \"\") {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        setGeolocation({\n          ...geolocation,\n          lat: position.coords.latitude,\n          log: position.coords.longitude,\n        });\n      });\n    }\n    if (navigator.geolocation) {\n      navigator.geolocation.watchPosition(function (position) {\n        setGeolocation({\n          ...geolocation,\n          lat: position.coords.latitude,\n          log: position.coords.longitude,\n        });\n      });\n    }\n  }, [geolocation.lat, geolocation.log]);\n\n  useEffect(() => {\n    if (geolocation.lat && geolocation.log) {\n      fetchData();\n    }\n  }, [geolocation.lat, geolocation.log]);\n\n  const fetchWeatherData = async (search) => {\n    try {\n      const response = await axios({\n        method: \"GET\",\n        url: `http://api.openweathermap.org/data/2.5/weather?q=${search}&appid=35bd10c223b33cc321caa26ce46f7f0b`,\n      });\n      console.log(\"response\", response.data);\n      setData({\n        temp: response.data.main.temp - 273.15,\n        humidity: response.data.main.humidity,\n        description: response.data.weather[0].description,\n        icon: response.data.weather[0].icon,\n        display: true,\n        pressure: response.data.main.pressure,\n        feelsLike: response.data.main.feels_like - 273.15,\n        visibility: response.data.visibility,\n        wind: response.data.wind.speed,\n        name: response.data.name,\n        view: true,\n      });\n      setCordinate({\n        ...cordinate,\n        aLet: response.data.coord.lat,\n        aLon: response.data.coord.lon,\n      });\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n  const fetchData = async (search) => {\n    const apikey = `https://api.openweathermap.org/data/2.5/onecall?lat=${geolocation.lat}&lon=${geolocation.log}&units=metric&exclude`;\n    const response = await fetch(\n      `${apikey}=current&appid=3c072250b7b95a5b2c1f101aabc82b3a`\n    );\n    const dailyForcast = await fetch(\n      `${apikey}=hourly,daily&appid=3c072250b7b95a5b2c1f101aabc82b3a`\n    );\n    const data = await response.json();\n    const dailyData = await dailyForcast.json();\n    setWeeklyWeather(data.daily);\n    setChartAxis({\n      ...chartAxis,\n      xAxis: data.hourly,\n      yAxis: data.hourly,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    fetchWeatherData(search);\n    fetchData();\n  };\n\n  useEffect(() => {\n    ref.current = setSearch;\n  }, []);\n\n  const newXAxisData =\n    chartAxis.xAxis &&\n    chartAxis.xAxis.map((res) => {\n      const day = moment.unix(res.dt).utc();\n      return moment(day).format(\"h:mm a\");\n    });\n  const newYAxisData =\n    chartAxis.yAxis &&\n    chartAxis.yAxis.map((res) => {\n      return res.temp;\n    });\n  return (\n    <div>\n      <div className=\"app__header\">\n        <form className=\"search__filter\" onSubmit={handleSubmit}>\n          <div className=\"input__group\">\n            <Input\n              className=\"search__filed\"\n              type=\"search\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n              placeholder=\"Search City\"\n            ></Input>\n            <Button type=\"submit\" className=\"search__btn\" label={\"Search\"} />\n          </div>\n        </form>\n      </div>\n      {data.view ? (\n        <>\n          <div className=\"main__container\">\n            <div className=\"grid__container\">\n              <div className=\"current__container\">\n                <CurrentData\n                  display={data.display}\n                  data={data}\n                  aLet={cordinate.aLet}\n                  aLon={cordinate.aLon}\n                />\n              </div>\n              <div className=\"map__section\">\n                <GoogleMap\n                  isMarkerShown\n                  geolocation={geolocation}\n                  data={data}\n                  aLet={cordinate.aLet}\n                  aLon={cordinate.aLon}\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"inner__container\">\n            <Chart newXAxisData={newXAxisData} newYAxisData={newYAxisData} />\n            <WeeklyData weeklyWeather={weeklyWeather} data={data} />\n          </div>\n        </>\n      ) : (\n        <EmptyData\n          title=\"No result found\"\n          content=\"Try adjusting your search to find what your looking for.\"\n        />\n      )}\n    </div>\n  );\n}\nexport default CurrentWeather;\n"]},"metadata":{},"sourceType":"module"}